
INSTALLING ZoIP ON DEBIAN-BASED SYSTEMS
---------------------------------------

1. Extract the ZoIP tarball to a suitable location

   i.e.
   
      mkdir -p /usr/local/games
      cd /usr/local/games
      tar -xzf <path to archive>/zoip.tar.gz
      ln -s zoip-<version> zoip

2. Copy the example configuration file zoip/etc/zoip.conf.example to
   zoip/etc/zoip.conf, and change values as you see fit. The defaults should
   meet your immediate needs.

3. Install Sphinx2, and Festival

   Install the Sphinx2 binaries and developer kit

      apt-get install sphinx2-bin libsphinx2-dev

   Install the Sphinx2 Perl bindings

      wget http://search.cpan.org/CPAN/authors/id/D/DJ/DJHD/Speech-Recognizer-SPX-0.0801.tar.gz
      tar -xzf Speech-Recognizer-SPX-0.0801.tar.gz
      cd Speech-Recognizer-SPX-0.0801
      perl Makefile.PL --sphinx-prefix=/usr
      make && make test && make install

   Install Festival, and the 'kallpc8k' voice, sitable for telephone quality

      apt-get install festival festvox-kallpc8k

4. Install the Asterisk::AGI perl module

      wget http://asterisk.gnuinter.net/files/asterisk-perl-0.08.tar.gz
      tar -xzf asterisk-perl-0.08.tar.gz
      cd asterisk-perl-0.08
      perl Makefile.PL
      make && make test && make install 

5. Add some additional perl modules used by ZoIP from the apt repository

      apt-get install libproc-daemon-perl liblog-log4perl-perl libconfig-tiny-perl

6. Start the Sphinx2 daemon in a separate console. By default, it is set to NOT
   daemonize, and will print all sorts of messages to the console. If you want
   it to daemonize, set daemonize=1 in the [sphinx] section of zoip.conf

      /usr/local/games/zoip/sphinx_server.pl

7. Add ZoIP from your asterisk dialplan (usually in /etc/asterisk/extensions.conf)

   i.e.
   
      [default]
      exten => 300,1,AGI(/usr/local/games/zoip/zoip.agi)

8. Tell asterisk to reload it's extensions.conf

      asterisk -rx 'extensions reload'

9. Call extension 300, and enjoy!

